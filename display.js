/*Page principale du comparateur : affichage des items sauvegardés*/chrome.storage.sync.get('fullcomp', function(result) {	var comparatif = result.fullcomp;		console.log(comparatif);	for (var i = 0 ; i < comparatif.length ; i++ )	{		document.getElementById('liste').innerHTML = document.getElementById('liste').innerHTML + 														"<div class='item' id='item"+i+"'>"															+"<h2><a class='image' href='"+comparatif[i].url+"'>"+comparatif[i].titre+"</h2>"															+"<div class='preview'><img src='"+comparatif[i].urlVignette+"'</img></a></div>"															+"<form method='post'>"																+"<p class='champ' id='champ1'>"+comparatif[i].chp1+"</p>"																+"<p class='champ' id='champ2'>"+comparatif[i].chp2+"</p>"																+"<p class='champ' id='champ3'>"+comparatif[i].chp3+"</p>"												//				+"<textarea class='champ3'>"+comparatif[i].chp3+"</textarea>"															+"</form>"															+"<button onclick='doFunction()' class='del' id='"+'suppr'+i+"' title='Supprimer cet élément'></button>"														+"<p></p></div>";	}		for (var i = 0 ; i < comparatif.length ; i++ )	{		document.getElementById('suppr'+i).addEventListener('click', function(e) {/*		//Suppression de l'élément dans le DOM			var target=e.target;			while (target.className.indexOf('item') == -1) {                    target = target.parentNode;                }			target.parentNode.removeChild(target);*/			//Màj datas synchronisées			comparatif.splice(e.target.id.slice(-1),1); //on retire l'élément du comparatif//			console.log(comparatif);			chrome.storage.sync.set({'fullcomp' : comparatif}, function() {});						document.location.reload(true); //on recharge la page		});		}});document.addEventListener('DOMContentLoaded', function () {	document.getElementById('clear').addEventListener('click', function() {		 if(confirm('Reset ?'))		 {			 chrome.storage.sync.clear();			 document.location.reload(true);		 }	});});